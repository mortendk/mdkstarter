{{ if config:app:debug is true }}<!-- ðŸ‘‹ resources/views/partials/components/photos.antlers.html -->{{ /if }}

<section class="{{ style:color_themes[color_theme] ?? '' }} py-8 lg:py-12">
  <div class="{{ section_width ?? 'pagewidth' }}">

    {{ if title or text }}
    <article class="text-center max-w-prose mx-auto pb-8">
      {{ if title }}
      <h2 class="text-3xl lg:text-7xl font-display"> {{ title }}</h2>
      {{ /if }}
      {{ if text }}
      <div class="text-lg max-w-prose mt-4"> {{ text }}</div>
      {{ /if }}
    </article>
    {{ /if }}

    {{# Define the image set based on source #}}
    {{ if source_type == 'entry' && photo_entry }}
        {{ photo_entry }}
            {{ $active_images = images }}
            {{ $active_layout = photo_layout }}
        {{ /photo_entry }}
    {{ else }}
        {{ $active_images = images }}
        {{ $active_layout = photo_layout }}
    {{ /if }}

    {{# Render the selected layout using the active images #}}
    {{ if $active_images }}
        <div class="w-full">
            {{ if $active_layout == "grid" }}
                {{ partial:components/images/grid :images="$active_images" }}
            {{ elseif $active_layout == "flow" }}
                {{ partial:components/images/overflow :images="$active_images" }}
            {{ elseif $active_layout == "gallery" }}
                {{ partial:components/images/gallery :images="$active_images" }}
            {{ else }}
                {{# Fallback #}}
                {{ partial:components/images/grid :images="$active_images" }}
            {{ /if }}
        </div>
    {{ /if }}

  </div>
</section>