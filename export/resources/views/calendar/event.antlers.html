{{ if config:app:debug is true }}<!-- ðŸ‘‹ resources/views/calendar/event.antlers.html -->{{ /if }}


<article class="pagewidth py-12">
  <header class="mb-8">
  <h1 class="text-4xl font-bold mb-4">{{ title }}</h1>

  <div class="text-gray-600 text-lg mb-6">
    {{ if is_all_day }}
      {{ event_start format="F j, Y" }}
      {{ if event_end && (event_end | format('Y-m-d') != event_start | format('Y-m-d')) }}
        - {{ event_end format="F j, Y" }}
      {{ /if }}
    {{ else }}
      {{ event_start format="F j, Y H:i" }}
      {{ if event_end }}
        - {{ event_end format="F j, Y H:i" }}
      {{ /if }}
    {{ /if }}
  </div>

  <div class="flex flex-wrap gap-4 mb-12">
    <a href="https://www.google.com/calendar/render?action=TEMPLATE&text={{ title | urlencode }}&dates={{ event_start format="Ymd\THis\Z" }}/{{ (event_end ?? event_start) format="Ymd\THis\Z" }}&details={{ teaser | strip_tags | urlencode }}&location={{ location | urlencode }}&trp=false&sprop=&sprop=name:" 
       target="_blank" rel="nofollow"
       class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors shadow-sm">
      {{ svg src="google" class="size-4" }}
      Add to Google Calendar
    </a>

    <a href="/calendar/feed.ics?id={{ id }}" 
       class="inline-flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-bold text-gray-700 hover:bg-gray-50 transition-colors shadow-sm">
      {{ svg src="calendar" class="size-4" }}
      Download iCal
    </a>
  </div>
  </header>

  {{ if primary_image }}
  <div class="mb-8">
  {{ responsive_image:primary_image class="w-full h-auto rounded-lg shadow-lg" }}
  </div>
  {{ /if }}

  <div class="prose max-w-none mb-12">
  {{ if markdown_small }}
  <p class="lead text-xl text-gray-600 italic mb-8">{{ markdown_small }}</p>
  {{ /if }}

  {{ blocks }}
  {{ partial src="components/{type}" }}
  {{ /blocks }}

  {{ bard }}
  {{ partial src="components/{type}" }}
  {{ /bard }}
  </div>

  {{ if tags || calendar }}
  <footer class="border-t pt-8">
  {{ if calendar }}
  {{ calendar }}
  {{ partial:taxonomy/calendar }}
  {{ /calendar }}
  {{ /if }}

  {{ if tags }}
  {{ tags }}
  {{ partial:taxonomy/tag }}
  {{ /tags }}
  {{ /if }}

  </footer>
  {{ /if }}

  {{ collection:events limit="3" id:isnt="{id}" sort="event_start:asc" as="related_events" }}
  {{ if related_events }}

  <section class="border-t pt-12 mt-12">
  <h2 class="text-3xl font-bold mb-8">Related Events</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {{ related_events }}
    {{ partial:cards/card-event-small }}


    {{ /related_events }}
  </div>
  </section>
  {{ /if }}
  {{ /collection:events }}
</article>