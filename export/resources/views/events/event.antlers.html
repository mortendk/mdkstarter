{{ if config:app:debug is true }}<!-- ðŸ‘‹ resources/views/events/event.antlers.html -->{{ /if }}

<article class="pagewidth">

  <h1 class="text-4xl font-extrabold text-gray-900 mb-4">{{ title }}</h1>
  {{# date #}}
  <div class="flex items-center text-lg text-primary-600 font-medium mb-6 bg-red-50">
    {{ if is_all_day }}
    {{ event_date format="j F Y" }}
    {{ if event_date_end && (event_date | format('Y-m-d') != event_date_end | format('Y-m-d')) }}
    - {{ event_date_end format="j F Y" }}
    {{ /if }}

    {{ else }}
    {{ event_date format="F j, Y @ H:i" }}
    {{ if event_date_end }}
    {{ if event_date | format('Y-m-d') == event_date_end | format('Y-m-d') }}
    - {{ event_date_end format="H:i" }}
    {{ else }}
    - {{ event_date_end format="F j, Y @ H:i" }}
    {{ /if }}
    {{ /if }}
    {{ /if }}
  </div>


  <footer class="mt-12 pt-8 border-t border-gray-200">
    {{ if tags }}
    <div class="max-w-prose mx-auto mt-8 flex flex-wrap gap-2">
      {{ tags }}
      <a href="/tags/{{ slug }}" class="bg-amber-100 hover:bg-amber-200 text-amber-900 px-2 py-1 rounded text-sm transition-colors">{{ title }}</a>
      {{ /tags }}
    </div>
    {{ /if}}

    {{ if calendar }}
    <div class="max-w-prose mx-auto mt-8 flex flex-wrap gap-2">
      {{ calendar }}
      <a href="/calendar/{{ slug }}" class="bg-amber-100 hover:bg-amber-200 text-amber-900 px-2 py-1 rounded text-sm transition-colors">{{ title }}</a>
      {{ /calendar }}
    </div>
    {{ /if }}



    {{# Define variables for Google's specific format (YYYYMMDDTHHMMSSZ) #}}
    {{ $start = event_date | format('Ymd\THis\Z') }}
    {{ $end = (event_date_end ?? event_date) | format('Ymd\THis\Z') }}
    {{ $details = teaser | urlencode }}
    {{ $title_encoded = title | urlencode }}

    <div class="flex gap-4 pt-6 border-t border-gray-100">
      <a href="https://www.google.com/calendar/render?action=TEMPLATE&text={{ $title_encoded }}&dates={{ $start }}/{{ $end }}&details={{ $details }}&sf=true&output=xml" target="_blank" rel="nofollow"
        class="inline-flex items-center text-sm font-semibold text-gray-700 hover:text-primary-600">
        <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24">
          <path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2z" />
        </svg>
        Add to Google Calendar
      </a>
      <a href="#" class="inline-flex items-center text-sm font-semibold text-gray-700 hover:text-primary-600">
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
        </svg>
        Subscribe (ICS)
      </a>
    </div>
  </footer>
</article>
</section>